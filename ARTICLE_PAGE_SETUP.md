# Инструкция по запуску страницы статей с функционалом

## Бэкенд (Content Service)

### 1. Создать таблицы в базе данных

```bash
cd services/content-service
python migrate_db.py
```

### 2. Перезапустить content-service

```bash
python main.py
```

или через Docker:

```bash
docker-compose restart content-service
```

## Фронтенд

### 1. Установить зависимости (если нужно)

```bash
cd frontend
npm install
```

### 2. Перезапустить фронтенд

```bash
npm run dev
```

или через Docker:

```bash
docker-compose restart frontend
```

## Новые API эндпоинты

### Закладки (Saved Articles)

- `POST /api/v1/saved-articles` - Сохранить статью
- `DELETE /api/v1/saved-articles/{article_id}` - Удалить из сохраненных
- `GET /api/v1/saved-articles` - Список сохраненных статей
- `GET /api/v1/saved-articles/check/{article_id}` - Проверить, сохранена ли статья

### Выделения (Highlights)

- `POST /api/v1/highlights` - Создать выделение
- `GET /api/v1/highlights/{article_id}` - Получить все выделения для статьи
- `PUT /api/v1/highlights/{highlight_id}` - Обновить выделение
- `DELETE /api/v1/highlights/{highlight_id}` - Удалить выделение

## Функционал страницы статьи

### 1. Просмотр статьи

- Переход: клик на статью из главной страницы
- URL: `/articles/{id}`
- Автоматически увеличивает счетчик просмотров

### 2. Ýatda sakla (Сохранить в закладки)

- Кнопка с иконкой закладки
- Требует авторизацию (X-User-ID заголовок)
- Переключается между "сохранено" и "не сохранено"

### 3. Bellik et (Добавить заметку)

- Кнопка для добавления заметок к выделенному тексту
- Будет реализована в следующей версии

### 4. Reňki (Выделение цветом)

- Выделите текст мышью
- Автоматически появляется окно выбора цвета
- Доступные цвета: желтый, зеленый, синий, красный
- Выделения сохраняются для авторизованных пользователей
- Выделения отображаются при следующем открытии статьи

### 5. Reýting (Рейтинг)

- Кнопка для оценки статьи
- Будет реализована в следующей версии

## Примечания

- Для работы функций сохранения и выделения нужна авторизация
- Без авторизации можно только читать статьи
- Выделения и закладки привязаны к пользователю
- При сохранении статьи, все выделения также сохраняются
